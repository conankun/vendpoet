<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Poetry Vending Machine</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>
<body>
  <nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">LMC 3403 </a>
  </nav>
  <div class="section no-pad-bot" id="index-banner">
    <div class="container">
      <br><br>
      <h1 class="header center orange-text">Poetry Vending Machine</h1>
      <div class="row center">
        <!-- <h5 class="header col s12 light">Click for a poem</h5> -->
      </div>
      <div class="row center">
        <button id="download-button" class="btn-large waves-effect waves-light orange">Get Poem</button>
      </div>
      <br><br>

    </div>
  </div>


  <div class="container">
    <div class="section">

      <!--   Icon Section   -->
      <div class="row">
        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center light-blue-text"><i class="material-icons">event_note</i></h2>
            <h4 class="center"><a class="modal-trigger" href="#modal1">Instruction</a></h4>

          </div>
        </div>

        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center light-blue-text"><i class="material-icons">group</i></h2>
            <h5 class="center">Connecting People with Poetry</h5>

            <p class="light">Get a random poem by clicking this button.</p>
          </div>
        </div>

        <div class="col s12 m4">
          <div class="icon-block">
            <a href="">
            <h2 class="center light-blue-text"><i class="material-icons">settings</i></h2>
            <h5 class="center">Troubleshooting</h5>
          </a>
          </div>
        </div>
      </div>

    </div>
    <br><br>
  </div>

  <footer class="page-footer orange">
    <div class="container">
      <div class="row">
        <div class="col l3 s12">
          <h5 class="white-text">Created By</h5>
          <ul>
            <li><a class="white-text" href="#!">Eugene Chu</a></li>
            <li><a class="white-text" href="#!">Jung</a></li>
            <li><a class="white-text" href="#!">Vinutna</a></li>
            <li><a class="white-text" href="#!">Jarett</a></li>
            <li><a class="white-text" href="#!">Arihan</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      Made with <a class="orange-text text-lighten-3" href="http://materializecss.com">Materialize</a>
      </div>
    </div>
  </footer>

  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Instruction</h4>
      <p>This manual tells you how to operate the Poetry Vending Machine. The Poetry Vending Machine will allow you to dispense a random poem at your will.</p>
      <ol>
        <li>Open a web browser and visit this link: http://conankun.us/vendpoet/</li>
        <li>Click the button “GET POEM” on the home page</li>
        <li>A random poem will be displayed for your enjoyment</li>
        <li>Enjoy!</li>
        <li>If you would like to read another poem, navigate back to the home page and repeat the steps.</li>
      </ol>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>

  <div id="modal2" class="modal">
    <div class="modal-content">
      <h4>Poetry</h4>
      <p>This manual tells you how to operate the Poetry Vending Machine. The Poetry Vending Machine will allow you to dispense a random poem at your will.</p>
      <ol>
        <li>Open a web browser and visit this link: http://conankun.us/vendpoet/</li>
        <li>Click the button “GET POEM” on the home page</li>
        <li>A random poem will be displayed for your enjoyment</li>
        <li>Enjoy!</li>
        <li>If you would like to read another poem, navigate back to the home page and repeat the steps.</li>
      </ol>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>

  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/materialize.js"></script>
  <script src="js/init.js"></script>
  <script>
    function readTextFile(file, callback) {
        var rawFile = new XMLHttpRequest();
        rawFile.overrideMimeType("application/json");
        rawFile.open("GET", file, true);
        rawFile.onreadystatechange = function() {
            if (rawFile.readyState === 4 && rawFile.status == "200") {
                callback(rawFile.responseText);
            }
        }
        rawFile.send(null);
    }
    $(document).ready(function() {
      $('.modal').modal();

      $('#download-button').click(function() {
        readTextFile("http://conankun.us/vendpoet/poem/Emily_Dickinson.json", function(text){
            var data = JSON.parse(text);
            var n = data.length;
            var index = Math.floor((Math.random() * n) + 1);
            var title = data[index]['title'];
            var lines = data[index]['lines'];
            alert(title);
        });
      });

    });
  </script>
  </body>
</html>
